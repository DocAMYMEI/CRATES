CRATES — Crypto & Cross‑Asset Event Study Toolkit — Cross‑Asset Event Study Analysis Repository

CRATES is an end‑to‑end, research‑grade event‑study laboratory for cross‑asset markets.It couples Cumulative Abnormal Return (CAR) pipelines with batched Regression Discontinuity (RD) analysis and ships a full notebook gallery for high‑impact visual communication.

Designed for analysts who want journal‑quality statistics without sacrificing engineering rigour.

🎞️ Quick Preview

Open the sample/ folder to instantly see what CRATES produces — PNG heatmaps, interactive HTML dashboards, and nicely‑formatted XLSX reports.

✨ Key Features

Full Stack – From raw OHLCV to Excel workbooks, high‑res figures, and interactive dashboards.

Multi‑asset – Crypto, equities, indices and commodities handled identically.

Modular – Nine CAR visual modules (V1‑9) plus three advanced (VA1‑3); separate RD tracks for price and volume.

Reproducible – Version‑pinned environment, deterministic outputs, 100% tested core maths.

Transparent – Every cell is annotated; parameters surfaced via YAML for easy what‑if runs.

🗂️ Repository Layout

crates/
├── benchmark/            # fixed benchmarks: Gold.csv, Nasdaq100.csv, SPY.csv
├── crypto_data/          # swappable crypto assets (same column schema)
├── events/               # event calendars: training_set.csv, test_set.csv
├── outcome/              # autogenerated CSV/XLSX/HTML (git‑ignored)
├── sample/               # PNG snapshots of analysis outputs
├── CAR_main.ipynb
├── CAR_V1-2_High-Level Impact & Screening.ipynb
├── CAR_V3-4_Distribution & Risk Analysis.ipynb
├── CAR_V5-7_Temporal Dynamics Analysis.ipynb
├── CAR_V8-9_Model Robustness & Diagnostics.ipynb
├── CAR_VA1-3_Advanced Techniques & Presentation Methods.ipynb
├── RDD_Price.ipynb
├── RDD_Price to excel.ipynb
├── RDD_Vol..ipynb
├── RDD_Vol. to excel.ipynb
├── requirements.txt
├── LICENSE               # CC BY‑NC‑SA 4.0
└── README.md             # you are here

📦 Data Folders Explained

Folder

Initial State

Purpose

Notes

benchmark/

(empty)

Place benchmark assets such as Gold.csv, Nasdaq100.csv, SPY.csv

Must follow Bench CSV Format below

crypto_data/

(empty)

Drop crypto (or equity) CSVs e.g. Bitcoin.csv, BNB.csv

Same 7‑column schema

events/

(empty)

Store training_set.csv & test_set.csv event calendars

Two‑line multi‑column layout

outcome/

Auto‑generated

Runtime artefacts: CAR tables, RD Excel, Plotly HTML

.gitignored

sample/

Pre‑populated

PNG, HTML, XLSX that illustrate expected outputs

For instant visual reference

Bench / Crypto CSV Format

Date,Price,Open,High,Low,Vol.,Change %
06/18/2025,3,411.00,3,405.20,3,418.90,3,389.05,85.86K,0.16%
06/17/2025,3,405.62,3,404.20,3,422.70,3,384.40,4.16K,-0.34%

Why do the numbers contain commas?  The comma is a thousands separator widely used in financial terminals.  When loading with pandas, use pd.read_csv(path, thousands=',') to ensure values are parsed as numerics rather than strings.  The same option applies to both benchmark and crypto files.
csv
Date,Price,Open,High,Low,Vol.,Change %
06/18/2025,3,411.00,3,405.20,3,418.90,3,389.05,85.86K,0.16%
06/17/2025,3,405.62,3,404.20,3,422.70,3,384.40,4.16K,-0.34%


#### Events CSV Format
```csv
internal_good,internal_neutral,internal_bad,external_good,external_neutral,external_bad
22/1/2021,18/4/2020,9/2/2021,3/11/2022,15/8/2022,9/2/2020
,1/7/2025,,,,7/12/2023
,,,,,26/6/2025

All dates are interpreted as DD/MM/YYYY; leave blank cells for non‑applicable categories.

--- | --- | --- | --- |
| benchmark/ | Fixed | Gold.csv, Nasdaq100.csv, SPY.csv | Do not replace — referenced in notebooks & tests |
| crypto_data/ | Flexible | Bitcoin.csv, BNB.csv, Dogecoin.csv, Ethereum.csv | May swap with any asset that follows the same column schema (see below) |
| events/ | Editable | training_set.csv, test_set.csv | Update event dates here; notebooks read directly |
| outcome/ | Auto | Runtime artefacts: CAR tables, RD Excel, Plotly HTML | Path is .gitignored by default |
| sample/ | Reference | PNG figures illustrating expected outputs | Safe to prune if repo size matters |



🛠️ Core Dependencies

All required packages are declared in requirements.txt (auto‑generated via pip‑compile).  Key libraries:

Category

Package(s)

Notes

Data processing & scientific computing

pandas, numpy, scipy, statsmodels

Event‑study math + regressions

Visualisation

matplotlib, seaborn, plotly

Static + interactive charts

Specialised charts

waterfallcharts

Waterfall diagnostics (V8‑9)

Excel export

XlsxWriter

High‑fidelity XLSX tables with formatting

Notebook environment

jupyterlab

Recommended IDE (≥ 4.0)

You can inspect or modify version pins directly in requirements.txt.

🚀 Quick Start

# clone + env
git clone https://github.com/DocAMYMEI/crates.git
cd crates && python -m venv .venv && source .venv/bin/activate

# install deps
pip install -r requirements.txt

# run master notebook
jupyter lab CAR_main.ipynb

Data required.  The notebooks assume you have already placed properly‑formatted CSVs into benchmark/ and crypto_data/, and populated events/ with the event calendars.We do not ship data nor auto‑fetch from public APIs.  Obtain prices from your licensed market data terminal (e.g. Bloomberg, Wind, Refinitiv) and ensure the schema matches the examples below before running any analysis.
bash

clone + env

git clone https://github.com/DocAMYMEI/maest.git
cd maest && python -m venv .venv && source .venv/bin/activate

install deps

pip install -r requirements.txt

run master notebook

jupyter lab CAR_main.ipynb


.

---

## 🧪 Methodology Snapshot

### 1. Cumulative Abnormal Return (CAR)
*Three models:* Market, Market‑Adjusted, Historical Average.  
Estimation window default **[-200, -2]** trading days; event windows configurable (e.g. **(-1,+1)**, **(-5,+5)**, **(-10,+10)**).

### 2. Regression Discontinuity (RD)
Kernel‑weighted local linear regression (Imbens‑Kalyanaraman optimal bandwidth).  
Both **price** and **volume** shocks supported.  
Excel exporter writes per‑event coefficient tables + diagnostic charts.

Math details and robustness checks are fully reproduced in `CAR_V8-9` and `RDD_*` notebooks.

---

## 📊 Notebook Gallery

| Tag | Focus | Output |
| --- | --- | --- |
| **V1‑2** | Impact overview & heatmap screening | Portfolio‑level “where to dig” |
| **V3‑4** | CAR distribution & risk | Violin, box, VaR plots |
| **V5‑7** | Temporal dynamics | Timeliness curve, horizon decay |
| **V8‑9** | Model robustness | Waterfall, leverage diagnostics |
| **VA1‑3** | Advanced viz | FacetGrid, interactive Plotly dashboard |
| **RDD_Price / Vol.** | Discontinuity tests | Excel workbook + scatter/fit |

Screenshots live in `sample/`.  

---

## 📚 Citing CRATES
```bibtex
@misc{crates2025,
  author = {{DocAMYMEI}},
  title  = {{CRATES}: Crypto & Cross-Asset Event Study Toolkit},
  year   = {2025},
  url    = {https://github.com/DocAMYMEI/crates},
  note   = {Version 1.0.0}
}

⚖️ License & Disclaimer

Released under Creative Commons BY‑NC‑SA 4.0.Non‑commercial use only; no warranty expressed or implied.Market data remains property of original providers.

📈 Roadmap — Why It Matters

Milestone

What

Why

Fuzzy & RDD‑IV

Extend RD module to fuzzy boundaries and instrumental‑variable designs

Unlocks causal inference when treatment assignment is imperfect

Robust Variance

Add heteroskedasticity‑consistent variance estimators (HC0‑HC3)

Reliable t‑stats when residuals aren’t i.i.d.

Docker & Binder

Provide reproducible container + one‑click cloud demo

Lowers onboarding friction for non‑Python users

CLI Wrapper

Headless batch execution via caesar run --config events.yaml

Integrates into CI/CD or cron jobs

White‑paper

Submit methodological white‑paper to arXiv

Academic transparency & citability

🤝 Contributing — How to Get Involved

We welcome bug fixes, new features, and methodological critiques.

Fork & branch.  Create a descriptive feature branch (feat/heteroskedasticity) from main.

Write tests.  Any new statistical routine should include a minimal, deterministic unit test under tests/.

Lint & format.  Run ruff --fix . and black . before committing.

Document.  Update docstrings and, if user‑facing, the README or notebook markdown.

Pull Request.  Explain the rationale, cite any papers, and attach before/after plots when applicable.

First‑time contributor?  Look for issues tagged good‑first‑issue.

Commercial feature requests or bespoke consulting: please open a discussion so we can scope together.

