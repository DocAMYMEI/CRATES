CRATES â€” CryptoÂ &Â Crossâ€‘Asset Event Study ToolkitÂ â€” Crossâ€‘Asset Event Study Analysis Repository

CRATESÂ is an endâ€‘toâ€‘end, researchâ€‘grade eventâ€‘study laboratory for crossâ€‘asset markets.It couples Cumulative Abnormal Return (CAR) pipelines with batched Regression Discontinuity (RD) analysis and ships a full notebook gallery for highâ€‘impact visual communication.

Designed for analysts who want journalâ€‘quality statistics without sacrificing engineering rigour.

ğŸï¸ Quick Preview

Open the sample/ folder to instantly see what CRATES produces â€” PNG heatmaps, interactive HTML dashboards, and nicelyâ€‘formatted XLSX reports.

âœ¨ Key Features

Full Stack â€“ From raw OHLCV to Excel workbooks, highâ€‘res figures, and interactive dashboards.

Multiâ€‘asset â€“ Crypto, equities, indices and commodities handled identically.

Modular â€“ Nine CAR visual modules (V1â€‘9) plus three advanced (VA1â€‘3); separate RD tracks for price and volume.

Reproducible â€“ Versionâ€‘pinned environment, deterministic outputs, 100% tested core maths.

Transparent â€“ Every cell is annotated; parameters surfaced via YAML for easy whatâ€‘if runs.

ğŸ—‚ï¸ Repository Layout

crates/
â”œâ”€â”€ benchmark/            # fixed benchmarks: Gold.csv, Nasdaq100.csv, SPY.csv
â”œâ”€â”€ crypto_data/          # swappable crypto assets (same column schema)
â”œâ”€â”€ events/               # event calendars: training_set.csv, test_set.csv
â”œâ”€â”€ outcome/              # autogenerated CSV/XLSX/HTML (gitâ€‘ignored)
â”œâ”€â”€ sample/               # PNG snapshots of analysis outputs
â”œâ”€â”€ CAR_main.ipynb
â”œâ”€â”€ CAR_V1-2_High-Level Impact & Screening.ipynb
â”œâ”€â”€ CAR_V3-4_Distribution & Risk Analysis.ipynb
â”œâ”€â”€ CAR_V5-7_Temporal Dynamics Analysis.ipynb
â”œâ”€â”€ CAR_V8-9_Model Robustness & Diagnostics.ipynb
â”œâ”€â”€ CAR_VA1-3_Advanced Techniques & Presentation Methods.ipynb
â”œâ”€â”€ RDD_Price.ipynb
â”œâ”€â”€ RDD_Price to excel.ipynb
â”œâ”€â”€ RDD_Vol..ipynb
â”œâ”€â”€ RDD_Vol. to excel.ipynb
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ LICENSE               # CC BYâ€‘NCâ€‘SAÂ 4.0
â””â”€â”€ README.md             # you are here

ğŸ“¦ Data Folders Explained

Folder

Initial State

Purpose

Notes

benchmark/

(empty)

Place benchmark assets such as Gold.csv, Nasdaq100.csv, SPY.csv

Must follow BenchÂ CSV Format below

crypto_data/

(empty)

Drop crypto (or equity) CSVs e.g. Bitcoin.csv, BNB.csv

Same 7â€‘column schema

events/

(empty)

Store training_set.csv & test_set.csv event calendars

Twoâ€‘line multiâ€‘column layout

outcome/

Autoâ€‘generated

Runtime artefacts: CAR tables, RD Excel, Plotly HTML

.gitignored

sample/

Preâ€‘populated

PNG, HTML, XLSX that illustrate expected outputs

For instant visual reference

BenchÂ / CryptoÂ CSV Format

Date,Price,Open,High,Low,Vol.,Change %
06/18/2025,3,411.00,3,405.20,3,418.90,3,389.05,85.86K,0.16%
06/17/2025,3,405.62,3,404.20,3,422.70,3,384.40,4.16K,-0.34%

Why do the numbers contain commas?  The comma is a thousands separator widely used in financial terminals.  When loading with pandas, use pd.read_csv(path, thousands=',') to ensure values are parsed as numerics rather than strings.  The same option applies to both benchmark and crypto files.
csv
Date,Price,Open,High,Low,Vol.,Change %
06/18/2025,3,411.00,3,405.20,3,418.90,3,389.05,85.86K,0.16%
06/17/2025,3,405.62,3,404.20,3,422.70,3,384.40,4.16K,-0.34%


#### Events CSV Format
```csv
internal_good,internal_neutral,internal_bad,external_good,external_neutral,external_bad
22/1/2021,18/4/2020,9/2/2021,3/11/2022,15/8/2022,9/2/2020
,1/7/2025,,,,7/12/2023
,,,,,26/6/2025

All dates are interpreted as DD/MM/YYYY; leave blank cells for nonâ€‘applicable categories.

--- | --- | --- | --- |
| benchmark/ | Fixed | Gold.csv, Nasdaq100.csv, SPY.csv | Do not replace â€” referenced in notebooks & tests |
| crypto_data/ | Flexible | Bitcoin.csv, BNB.csv, Dogecoin.csv, Ethereum.csv | May swap with any asset that follows the same column schema (see below) |
| events/ | Editable | training_set.csv, test_set.csv | Update event dates here; notebooks read directly |
| outcome/ | Auto | Runtime artefacts: CAR tables, RD Excel, Plotly HTML | Path is .gitignored by default |
| sample/ | Reference | PNG figures illustrating expected outputs | Safe to prune if repo size matters |



ğŸ› ï¸ Core Dependencies

All required packages are declared in requirements.txt (autoâ€‘generated via pipâ€‘compile).  Key libraries:

Category

Package(s)

Notes

Data processing & scientific computing

pandas, numpy, scipy, statsmodels

Eventâ€‘study math + regressions

Visualisation

matplotlib, seaborn, plotly

Static + interactive charts

Specialised charts

waterfallcharts

Waterfall diagnostics (V8â€‘9)

Excel export

XlsxWriter

Highâ€‘fidelity XLSX tables with formatting

Notebook environment

jupyterlab

Recommended IDE (â‰¥ 4.0)

You can inspect or modify version pins directly in requirements.txt.

ğŸš€ Quick Start

# clone + env
git clone https://github.com/DocAMYMEI/crates.git
cd crates && python -m venv .venv && source .venv/bin/activate

# install deps
pip install -r requirements.txt

# run master notebook
jupyter lab CAR_main.ipynb

Data required.  The notebooks assume you have already placed properlyâ€‘formatted CSVs into benchmark/ and crypto_data/, and populated events/ with the event calendars.We do not ship data nor autoâ€‘fetch from public APIs.  Obtain prices from your licensed market data terminal (e.g. Bloomberg, Wind, Refinitiv) and ensure the schema matches the examples below before running any analysis.
bash

clone + env

git clone https://github.com/DocAMYMEI/maest.git
cd maest && python -m venv .venv && source .venv/bin/activate

install deps

pip install -r requirements.txt

run master notebook

jupyter lab CAR_main.ipynb


.

---

## ğŸ§ª Methodology Snapshot

### 1. Cumulative Abnormal Return (CAR)
*Three models:* Market, Marketâ€‘Adjusted, Historical Average.  
Estimation window default **[-200,Â -2]**Â trading days; event windows configurable (e.g. **(-1,+1)**, **(-5,+5)**, **(-10,+10)**).

### 2. Regression Discontinuity (RD)
Kernelâ€‘weighted local linear regression (Imbensâ€‘Kalyanaraman optimal bandwidth).  
Both **price** and **volume** shocks supported.  
Excel exporter writes perâ€‘event coefficient tables + diagnostic charts.

Math details and robustness checks are fully reproduced in `CAR_V8-9` and `RDD_*` notebooks.

---

## ğŸ“Š Notebook Gallery

| Tag | Focus | Output |
| --- | --- | --- |
| **V1â€‘2** | Impact overview & heatmap screening | Portfolioâ€‘level â€œwhere to digâ€ |
| **V3â€‘4** | CAR distribution & risk | Violin, box, VaR plots |
| **V5â€‘7** | Temporal dynamics | Timeliness curve, horizon decay |
| **V8â€‘9** | Model robustness | Waterfall, leverage diagnostics |
| **VA1â€‘3** | Advanced viz | FacetGrid, interactive Plotly dashboard |
| **RDD_Price / Vol.** | Discontinuity tests | Excel workbook + scatter/fit |

Screenshots live in `sample/`.  

---

## ğŸ“š Citing CRATES
```bibtex
@misc{crates2025,
  author = {{DocAMYMEI}},
  title  = {{CRATES}: Crypto & Cross-Asset Event Study Toolkit},
  year   = {2025},
  url    = {https://github.com/DocAMYMEI/crates},
  note   = {VersionÂ 1.0.0}
}

âš–ï¸ License & Disclaimer

Released under Creative Commons BYâ€‘NCâ€‘SAÂ 4.0.Nonâ€‘commercial use only; no warranty expressed or implied.Market data remains property of original providers.

ğŸ“ˆ Roadmap â€” Why It Matters

Milestone

What

Why

Fuzzy & RDDâ€‘IV

Extend RD module to fuzzy boundaries and instrumentalâ€‘variable designs

Unlocks causal inference when treatment assignment is imperfect

Robust Variance

Add heteroskedasticityâ€‘consistent variance estimators (HC0â€‘HC3)

Reliable tâ€‘stats when residuals arenâ€™t i.i.d.

Docker & Binder

Provide reproducible container + oneâ€‘click cloud demo

Lowers onboarding friction for nonâ€‘Python users

CLI Wrapper

Headless batch execution via caesar run --config events.yaml

Integrates into CI/CD or cron jobs

Whiteâ€‘paper

Submit methodological whiteâ€‘paper to arXiv

Academic transparency & citability

ğŸ¤ Contributing â€” How to Get Involved

We welcome bug fixes, new features, and methodological critiques.

Fork & branch.  Create a descriptive feature branch (feat/heteroskedasticity) from main.

Write tests.  Any new statistical routine should include a minimal, deterministic unit test under tests/.

Lint & format.  Run ruff --fix . and black . before committing.

Document.  Update docstrings and, if userâ€‘facing, the README or notebook markdown.

Pull Request.  Explain the rationale, cite any papers, and attach before/after plots when applicable.

Firstâ€‘time contributor?  Look for issues tagged goodâ€‘firstâ€‘issue.

Commercial feature requests or bespoke consulting: please open a discussion so we can scope together.

